"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[286],{8762:function(e,n,a){a.d(n,{z:function(){return d},Z:function(){return g}});var s=a(1413),r=a(4925),i=a(2791),l=a(1087),t=a(8506),c=a(184),o=["children","className","type","isLoading","disabled","href","style"],d=function(e){var n=e.children,a=e.className,i=void 0===a?"button":a,d=e.type,u=void 0===d?"button":d,m=e.isLoading,h=e.disabled,x=e.href,g=e.style,f=(0,r.Z)(e,o),v=m?(0,c.jsx)(t.g,{}):n;return""!==x&&"string"===typeof x?(0,c.jsx)(l.OL,{style:g,className:"button ".concat(i),to:x,children:v}):(0,c.jsx)("button",(0,s.Z)((0,s.Z)({type:u,disabled:h,className:"button ".concat(i)},f),{},{children:v}))},u=a(9439),m=a(5705),h=["on"],x=function(e){var n=e.on,a=(0,r.Z)(e,h),i=(0,m.U$)(a),l=(0,u.Z)(i,1)[0];return(0,c.jsx)("div",{className:"toggle",children:(0,c.jsxs)("label",{children:[(0,c.jsx)("input",(0,s.Z)((0,s.Z)({className:"hidden-input"},a),l)),(0,c.jsx)("div",(0,s.Z)((0,s.Z)({className:"toggle-container ".concat(n?"on":"")},a),{},{children:(0,c.jsx)("span",{className:"toggle-circle  ".concat(n?"on":"")})}))]})})},g=(0,i.memo)(x)},4099:function(e,n,a){a.d(n,{g:function(){return l}});var s=a(2791),r=a(184),i=function(e){var n=e.children;return(0,r.jsx)("div",{className:"field",children:n})},l=(0,s.memo)(i)},3244:function(e,n,a){a.d(n,{cw:function(){return l},w5:function(){return c},p7:function(){return d}});var s=a(2791),r=a(184),i=function(e){var n=e.children;return(0,r.jsx)("div",{className:"form-group",children:n})},l=(0,s.memo)(i),t=function(e){var n=e.children;return(0,r.jsx)("div",{className:"form-radio",children:n})},c=(0,s.memo)(t),o=function(e){var n=e.children;return(0,r.jsx)("div",{className:"form-row",children:n})},d=(0,s.memo)(o)},7904:function(e,n,a){a.d(n,{ZS:function(){return t},X6:function(){return i},Vp:function(){return c}});var s=a(2791),r=a(184),i=function(e){var n=e.children;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("h2",{className:"heading",children:n})})},l=function(e){var n=e.children,a=e.title;return(0,r.jsxs)("div",{className:"dashboard-heading",children:[(0,r.jsx)("h1",{className:"dashboard-title",children:n}),(0,r.jsx)("p",{className:"dashboard-desc",children:a})]})},t=(0,s.memo)(l),c=function(e){var n=e.children;return(0,r.jsx)("span",{className:"tag",children:n})}},882:function(e,n,a){a.d(n,{U:function(){return g},I:function(){return u}});var s=a(1413),r=a(9439),i=a(4925),l=a(2791),t=a(5705),c=a(184),o=["className","children"],d=function(e){e.className;var n=e.children,a=(0,i.Z)(e,o),l=(0,t.U$)(a),d=(0,r.Z)(l,2),u=d[0],m=d[1];return(0,c.jsxs)("div",{style:{width:"100%"},children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",(0,s.Z)((0,s.Z)({className:"input ".concat(n?"input-active-eye":""," ").concat(m.touched&&m.error?"input-error":"")},a),u)),n]}),m.touched&&m.error?(0,c.jsxs)("span",{className:"error-massage",children:[(0,c.jsx)("i",{className:"fa-solid fa-circle-exclamation"})," ",m.error]}):null]})},u=(0,l.memo)(d),m=a(8506),h=["name","progress","onDeleteImage","messError","image","className","trash"],x=function(e){var n=e.name,a=e.progress,r=void 0===a?0:a,t=e.onDeleteImage,o=e.messError,d=e.image,u=void 0===d?"":d,x=e.className,g=e.trash,f=(0,i.Z)(e,h);return(0,c.jsx)("div",{className:"image-upload",children:(0,c.jsxs)("label",{className:"image-upload-label ".concat(x),children:[(0,c.jsx)("input",(0,s.Z)({name:n,className:"hidden-input"},f)),!u&&0===r&&(0,c.jsxs)("div",{className:"image-default ",children:[(0,c.jsx)("img",{src:"/img/img-upload.png",alt:"upload-img",className:""}),o?(0,c.jsxs)("span",{className:"error-massage",children:[(0,c.jsx)("i",{className:"fa-solid fa-circle-exclamation"})," ",o]}):(0,c.jsx)("p",{children:"Choose photo"})]}),0!==r&&!u&&(0,c.jsx)(m.g,{className:"img"}),u&&(0,c.jsxs)(l.Fragment,{children:[(0,c.jsx)("img",{src:u,className:"immage-load",alt:""}),g&&(0,c.jsx)("button",{type:"button",className:"btn-trash",onClick:t,children:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),!u&&(0,c.jsx)("div",{className:"not-image",style:{width:"".concat(Math.ceil(r),"%")}})]})})},g=(0,l.memo)(x)},610:function(e,n,a){a.d(n,{_:function(){return l},A:function(){return t}});var s=a(2791),r=a(184),i=function(e){var n=e.children,a=e.htmlFor,s=void 0===a?"":a;return(0,r.jsx)("label",{htmlFor:s,className:"label",children:n})},l=(0,s.memo)(i),t=function(e){var n=e.children,a=e.className,s=void 0===a?"default":a;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:"labelTable ".concat(s),children:n})})}},8506:function(e,n,a){a.d(n,{g:function(){return r}});a(2791);var s=a(184),r=function(e){var n=e.className;return(0,s.jsx)("div",{className:"loading ".concat(n)})}},9572:function(e,n,a){a.d(n,{Y:function(){return u}});var s=a(1413),r=a(9439),i=a(4925),l=a(2791),t=a(5705),c=a(184),o=["children","checked"],d=function(e){var n=e.children,a=e.checked,l=(0,i.Z)(e,o),d=(0,t.U$)(l),u=(0,r.Z)(d,1)[0];return(0,c.jsx)("div",{className:"radio",children:(0,c.jsxs)("label",{children:[(0,c.jsx)("input",(0,s.Z)((0,s.Z)({},l),u)),(0,c.jsxs)("div",{className:"radio-container",children:[(0,c.jsx)("div",{className:"content ".concat(a?"bg-green":"bg-gray"),children:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,c.jsx)("span",{children:n})]})]})})},u=(0,l.memo)(d)},3759:function(e,n,a){a.r(n),a.d(n,{categoryStatus:function(){return w}});var s=a(1413),r=a(9439),i=a(2791),l=a(5705),t=a(8007),c=a(610),o=a(882),d=a(8762),u=a(3244),m=a(7904),h=a(4099),x=a(9572),g=a(333),f=a.n(g),v=a(9434),j=a(9085),p=a(9429),N=a(7689),b=a(1087),Z=a(276),y=a(184),w={APPROVED:1,UNAPPROVED:2};n.default=function(e){var n=(0,v.v9)((function(e){return e.userReducer})).user;console.log("user",n);var a=(0,i.useState)((null===n||void 0===n?void 0:n.image)||""),g=(0,r.Z)(a,2),w=g[0],k=g[1],E=(0,i.useState)(0),I=(0,r.Z)(E,2),F=I[0],U=I[1];console.log("image",w);var A=(0,v.I0)(),D=(0,N.s0)(),_=(0,b.lr)(),C=(0,r.Z)(_,1)[0].get("id"),L=(0,i.useCallback)((function(e){var n=(0,Z.cF)(),a=(0,Z.iH)(n,"images/"+e.name),s=(0,Z.B0)(a,e);s.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch(U(n),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Nothing at all")}}),(function(e){console.log("Error")}),(function(){(0,Z.Jt)(s.snapshot.ref).then((function(e){k(e)}))}))}),[]),S=(0,i.useCallback)((function(e){var n=(0,Z.cF)(),a=(0,Z.iH)(n,"images/"+e);(0,Z.oq)(a).then((function(){j.Am.success("Remove image successfully!"),U(0)})).catch((function(e){j.Am.error("Can not delete image!")}))}),[]),R={fullname:(null===n||void 0===n?void 0:n.name)||"",username:f()((null===n||void 0===n?void 0:n.name)||"",{lower:!0}),imageName:"",email:(null===n||void 0===n?void 0:n.email)||"",password:(null===n||void 0===n?void 0:n.password)||"",status:(null===n||void 0===n?void 0:n.status)||1,role:(null===n||void 0===n?void 0:n.role)||1};return(0,i.useEffect)((function(){A((0,p.xE)(C||""))}),[A,C]),(0,y.jsxs)("div",{className:"create-user",children:[(0,y.jsx)(m.ZS,{title:"Update user ID: ".concat(C),children:"Create User"}),(0,y.jsx)(l.J9,{initialValues:R,validationSchema:t.Ry({fullname:t.Z_().required(" "),email:t.Z_().required(" ").email(" "),password:t.Z_().required(" ")}),onSubmit:function(e,n){var a=n.setSubmitting,r=n.resetForm,i=(0,s.Z)({},e);i.username=f()(e.fullname||e.username,{lower:!0}),i.status=Number(e.status),i.role=Number(e.role),setTimeout((function(){A((0,p.H6)(C,(0,s.Z)((0,s.Z)({},i),{},{image:w}))),a(!1),j.Am.success("Update user successfully!"),r(),D("/manage/user")}),500)},children:function(e){var n=e.isSubmitting,a=e.values,s=e.setFieldValue,r=a.status,i=a.role;return(0,y.jsxs)(l.l0,{children:[(0,y.jsx)(u.cw,{children:(0,y.jsxs)(h.g,{children:[(0,y.jsx)(c._,{children:"Avatar"}),(0,y.jsx)(o.U,{trash:!!a.imageName,className:"round",onDeleteImage:function(){S(a.imageName)},image:w,name:"image",type:"file",progress:F,onChange:function(e){if(e.target.files&&e.target.files.length>0){var n=e.target.files[0];if(!n)return;s("imageName",n.name),L(n)}}})]})}),(0,y.jsxs)(u.cw,{children:[(0,y.jsxs)(h.g,{children:[(0,y.jsx)(c._,{htmlFor:"fullname",children:"Fullname"}),(0,y.jsx)(o.I,{id:"fullname",type:"text",name:"fullname",placeholder:"Enter your fullname"})]}),(0,y.jsxs)(h.g,{children:[(0,y.jsx)(c._,{htmlFor:"username",children:"UserName"}),(0,y.jsx)(o.I,{id:"username",type:"text",name:"username",placeholder:"Enter your username"})]})]}),(0,y.jsxs)(u.cw,{children:[(0,y.jsxs)(h.g,{children:[(0,y.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,y.jsx)(o.I,{id:"email",type:"text",name:"email",placeholder:"Enter your email"})]}),(0,y.jsxs)(h.g,{children:[(0,y.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,y.jsx)(o.I,{id:"password",type:"password",name:"password",placeholder:"Enter your password"})]})]}),(0,y.jsxs)(u.cw,{children:[(0,y.jsxs)(h.g,{children:[(0,y.jsx)(c._,{htmlFor:"status",children:"Status"}),(0,y.jsxs)(u.w5,{children:[(0,y.jsx)(x.Y,{type:"radio",name:"status",value:p.iQ.ACTIVE,checked:Number(r)===p.iQ.ACTIVE,children:"Active"}),(0,y.jsx)(x.Y,{type:"radio",name:"status",value:p.iQ.PENDING,checked:Number(r)===p.iQ.PENDING,children:"Pending"}),(0,y.jsx)(x.Y,{type:"radio",name:"status",value:p.iQ.BAN,checked:Number(r)===p.iQ.BAN,children:"Banned"})]})]}),(0,y.jsxs)(h.g,{children:[(0,y.jsx)(c._,{htmlFor:"role",children:"Role"}),(0,y.jsxs)(u.w5,{children:[(0,y.jsx)(x.Y,{type:"radio",name:"role",value:p.xZ.ADMIN,checked:Number(i)===p.xZ.ADMIN,children:"Admin"}),(0,y.jsx)(x.Y,{type:"radio",name:"role",value:p.xZ.MOD,checked:Number(i)===p.xZ.MOD,children:"Moderator"}),(0,y.jsx)(x.Y,{type:"radio",name:"role",value:p.xZ.EDITOR,checked:Number(i)===p.xZ.EDITOR,children:"Editor"}),(0,y.jsx)(x.Y,{type:"radio",name:"role",value:p.xZ.USER,checked:Number(i)===p.xZ.USER,children:"User"})]})]})]}),(0,y.jsx)(d.z,{type:"submit",className:"secondary button-loading",isLoading:n,disabled:n,children:"Update"})]})}})]})}}}]);
//# sourceMappingURL=286.1d6694de.chunk.js.map