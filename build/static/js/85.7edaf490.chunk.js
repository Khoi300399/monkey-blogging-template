"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[85],{112:function(n,e,t){t.d(e,{HG:function(){return s},I8:function(){return i},G7:function(){return o}});t(2791);var r=t(184),s=function(n){var e=n.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:"action-item delete",onClick:e,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})},i=function(n){var e=n.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:"action-item edit",onClick:e,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})})},o=function(n){var e=n.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:"action-item view",onClick:e,children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})}},138:function(n,e,t){t.d(e,{Lt:function(){return h},aV:function(){return v},Wx:function(){return f},ol:function(){return m},Ph:function(){return x}});var r=t(1413),s=t(4925),i=t(2791),o=t(9439),a=t(184),c=(0,i.createContext)(void 0);function l(n){var e=(0,i.useState)(!1),t=(0,o.Z)(e,2),r=t[0],s=t[1],l={show:r,setShow:s,toggle:function(){s(!r)}};return(0,a.jsx)(c.Provider,{value:l,children:n.children})}function d(){var n=(0,i.useContext)(c);if("undefined"===typeof n)throw new Error("useDropdown must be used within DropdownProvider");return n}var u=["children"],h=function(n){var e=n.children,t=(0,s.Z)(n,u);return(0,a.jsx)(l,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)("div",{className:"dropdown",children:e})}))},x=function(n){var e=n.placeholder,t=void 0===e?"":e,r=d(),s=r.toggle,i=r.show;return(0,a.jsxs)("div",{className:"select",onClick:s,children:[(0,a.jsx)("span",{children:t}),i?(0,a.jsx)("span",{className:"select-icon",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})})}):(0,a.jsx)("span",{className:"select-icon",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})},v=function(n){var e=n.children,t=d().show;return(0,a.jsx)(a.Fragment,{children:t&&(0,a.jsx)("div",{className:"list",children:e})})},f=function(n){var e=n.children,t=n.onClick,r=d().setShow;return(0,a.jsx)("div",{className:"option",onClick:function(){t&&t(),r(!1)},children:e})},p=t(49),j=["placeholder","onChange","className"],m=function(n){var e=n.placeholder,t=n.onChange,i=n.className,o=void 0===i?"":i,c=(0,s.Z)(n,j);return(0,a.jsxs)("div",{className:"search ".concat(o),children:[(0,a.jsx)("input",(0,r.Z)({className:"search-input",type:"text",placeholder:e,onChange:t},c)),(0,a.jsx)("span",{className:"search-icon",children:(0,a.jsx)(p.jV,{})})]})}},7904:function(n,e,t){t.d(e,{ZS:function(){return a},X6:function(){return i},Vp:function(){return c}});var r=t(2791),s=t(184),i=function(n){var e=n.children;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("h2",{className:"heading",children:e})})},o=function(n){var e=n.children,t=n.title;return(0,s.jsxs)("div",{className:"dashboard-heading",children:[(0,s.jsx)("h1",{className:"dashboard-title",children:e}),(0,s.jsx)("p",{className:"dashboard-desc",children:t})]})},a=(0,r.memo)(o),c=function(n){var e=n.children;return(0,s.jsx)("span",{className:"tag",children:e})}},49:function(n,e,t){t.d(e,{kG:function(){return i},ky:function(){return s},jV:function(){return o}});t(2791);var r=t(184),s=function(n){var e=n.className,t=void 0===e?"":e,s=n.onClick,i=void 0===s?function(){}:s;return(0,r.jsx)("span",{className:"icon-eye ".concat(t),onClick:i,children:(0,r.jsxs)("svg",{width:22,height:14,viewBox:"0 0 22 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M14.5 1.62156C16.8312 2.50868 18.7928 4.24569 20.5245 6.37837C20.8098 6.72982 20.8099 7.23217 20.5245 7.58361C17.9889 10.7065 14.96 12.981 11 12.981C7.04003 12.981 4.01115 10.7065 1.4755 7.58361C1.19014 7.23216 1.19016 6.72981 1.47551 6.37837C3.69735 3.64197 6.29789 1.55697 9.5717 1.0828C9.75303 1.05654 9.93641 1.03522 10.1219 1.019L10.561 1",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M13.5 6.98096C13.5 8.36167 12.3807 9.48096 11 9.48096C9.61929 9.48096 8.5 8.36167 8.5 6.98096C8.5 5.60025 9.61929 4.48096 11 4.48096C12.3807 4.48096 13.5 5.60025 13.5 6.98096Z",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})})},i=function(n){var e=n.className,t=void 0===e?"":e,s=n.onClick,i=void 0===s?function(){}:s;return(0,r.jsx)("span",{className:"icon-eye ".concat(t),onClick:i,children:(0,r.jsxs)("svg",{width:22,height:20,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M13.5356 8.46454C13.7677 8.69669 13.9519 8.97229 14.0775 9.27561C14.2032 9.57892 14.2678 9.90401 14.2678 10.2323C14.2678 10.5606 14.2031 10.8857 14.0775 11.189C13.9518 11.4923 13.7677 11.7679 13.5355 12.0001C13.3034 12.2322 13.0278 12.4164 12.7245 12.542C12.4211 12.6676 12.0961 12.7323 11.7678 12.7323C11.4394 12.7323 11.1144 12.6676 10.811 12.5419C10.5077 12.4163 10.2321 12.2322 10 12",stroke:"#999999",strokeWidth:"1.5",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M11 4C7.04003 4 4.01115 6.27449 1.4755 9.39738C1.19014 9.74883 1.19009 10.2511 1.47544 10.6025C2.18711 11.479 2.93763 12.2887 3.73669 13M6.74043 15.0348C8.03446 15.6495 9.44549 16 11 16C11.2884 16 11.5719 15.9879 11.8507 15.9643L12.2607 15.9122M15.7029 5.18844C17.5178 6.15443 19.0991 7.64187 20.5245 9.39741C20.8099 9.74885 20.8099 10.2512 20.5245 10.6026C19.1774 12.2617 17.6911 13.6813 16 14.6476",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M19.1217 1.11547L1.9998 18.9996",stroke:"#999999",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},o=function(n){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("svg",{width:18,height:17,viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("ellipse",{cx:"7.66669",cy:"7.05161",rx:"6.66669",ry:"6.05161",stroke:"#999999",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M17.0001 15.5237L15.2223 13.9099L14.3334 13.103L12.5557 11.4893",stroke:"#999999",strokeWidth:"1.5",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M11.6665 12.2964C12.9671 12.1544 13.3706 11.8067 13.4443 10.6826",stroke:"#999999",strokeWidth:"1.5",strokeLinecap:"round"})]})})}},610:function(n,e,t){t.d(e,{_:function(){return o},A:function(){return a}});var r=t(2791),s=t(184),i=function(n){var e=n.children,t=n.htmlFor,r=void 0===t?"":t;return(0,s.jsx)("label",{htmlFor:r,className:"label",children:e})},o=(0,r.memo)(i),a=function(n){var e=n.children,t=n.className,r=void 0===t?"default":t;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:"labelTable ".concat(r),children:e})})}},4905:function(n,e,t){t.d(e,{t:function(){return i}});t(2791);var r=t(9434),s=t(184),i=function(n){for(var e=n.handleNextPage,t=void 0===e?function(){}:e,i=n.handlePrevPage,o=void 0===i?function(){}:i,a=n.handlePageClick,c=void 0===a?function(){}:a,l=(0,r.v9)((function(n){return n.postReducer})),d=l.currentPage,u=l.totalPages,h=[],x=1;x<=u;x++)h.push(x);return 1===u?null:(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{className:"pagination-prev",onClick:o,disabled:1===d,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("ul",{className:"pagination-list",children:h.map((function(n){return(0,s.jsx)("li",{className:"pagination-item ".concat(d===n?"is-current":""),onClick:c,children:n},n)}))}),(0,s.jsx)("button",{className:"pagination-next",onClick:t,disabled:d===u,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})}},7033:function(n,e,t){t.d(e,{i:function(){return s}});t(2791);var r=t(184),s=function(n){var e=n.children;return(0,r.jsx)("div",{className:"table",children:(0,r.jsx)("table",{children:e})})}},6085:function(n,e,t){t.r(e);var r=t(4165),s=t(1413),i=t(5861),o=t(9439),a=t(2791),c=t(7904),l=t(4905),d=t(7033),u=t(112),h=t(138),x=t(9434),v=t(7689),f=t(1830),p=t.n(f),j=t(8193),m=t(763),g=t(7799),k=t(3604),w=t(610),C=t(184);e.default=function(n){var e=(0,x.I0)(),t=(0,v.s0)(),f=(0,x.v9)((function(n){return n.postReducer})),N=f.posts,L=f.currentPage,b=f.allPosts,Z=(0,a.useState)(null),M=(0,o.Z)(Z,2),P=M[0],y=M[1],I=(0,a.useState)(null),W=(0,o.Z)(I,2),B=W[0],V=W[1],A=(0,m.debounce)((function(n){e((0,j.Jm)(n.target.value))}),500);(0,a.useEffect)((function(){e((0,j.e)())}),[e]),(0,a.useEffect)((function(){var n,e;b&&b.length>0&&(y(null===(n=b[j.IV*L-1])||void 0===n?void 0:n.title),V(null===(e=b[j.IV*(L-1)])||void 0===e?void 0:e.title))}),[b,L]);var D=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var t,i,o,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,g.hJ)(k.db,"categories"),i=(0,g.IO)(t,(0,g.Xo)("title"),(0,g.b9)(j.IV)),N.length>0&&(i=(0,g.IO)(t,(0,g.Xo)("name"),(0,g.b9)(j.IV),(0,g.TQ)(P))),n.next=5,(0,g.PL)(i);case 5:o=n.sent,a=o.docs.map((function(n){var e=n&&n.data?n.data():{};return(0,s.Z)((0,s.Z)({},e),{},{id:n.id})})),e((0,j.dM)(a)),e((0,j.D4)(L+1));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),F=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var t,i,o,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,g.hJ)(k.db,"categories"),i=(0,g.IO)(t,(0,g.Xo)("name"),(0,g.Lx)(B),(0,g.vh)(j.IV)),n.next=4,(0,g.PL)(i);case 4:o=n.sent,a=o.docs.map((function(n){var e=n&&n.data?n.data():{};return(0,s.Z)((0,s.Z)({},e),{},{id:n.id})})),e((0,j.dM)(a)),e((0,j.D4)(L-1));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),S=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){var i,o,a,c,l,d,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Number(t.currentTarget.innerHTML),console.log("pageNum",i),o=(0,g.hJ)(k.db,"categories"),a=(0,g.IO)(o,(0,g.Xo)("name"),(0,g.b9)(j.IV)),N.length>0&&(a=(0,g.IO)(o,(0,g.Xo)("name"),(0,g.b9)(j.IV),(0,g.e0)(null===(c=b[j.IV*(i-1)])||void 0===c?void 0:c.title)),console.log(" allCategory[0]?.name",null===(l=b[0])||void 0===l?void 0:l.title)),n.next=7,(0,g.PL)(a);case 7:d=n.sent,u=d.docs.map((function(n){var e=n&&n.data?n.data():{};return(0,s.Z)((0,s.Z)({},e),{},{id:n.id})})),e((0,j.dM)(u)),e((0,j.D4)(i));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,C.jsxs)("div",{className:"postManage",children:[(0,C.jsx)(c.ZS,{children:"Manage post"}),(0,C.jsx)(h.ol,{placeholder:"Search post...",onChange:A}),(0,C.jsxs)(d.i,{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Id"}),(0,C.jsx)("th",{children:"Post"}),(0,C.jsx)("th",{children:"Category"}),(0,C.jsx)("th",{children:"Author"}),(0,C.jsx)("th",{children:"Status"}),(0,C.jsx)("th",{children:"Actions"})]})}),(0,C.jsx)("tbody",{children:N.map((function(n){var s=n.id,o=n.title,a=n.createAt,c=n.category,l=n.author,d=n.image,h=n.status;return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{title:s,children:(null===s||void 0===s?void 0:s.slice(0,5))+" ..."}),(0,C.jsx)("td",{children:(0,C.jsxs)("div",{className:"table-img",children:[(0,C.jsx)("img",{src:d,alt:""}),(0,C.jsxs)("div",{className:"table-img-content",children:[(0,C.jsx)("h3",{className:"font-semibold",children:o}),(0,C.jsx)("time",{className:"text-sm text-gray-500",children:a})]})]})}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"text-gray-500",children:null===c||void 0===c?void 0:c.name})}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"text-gray-500",children:l})}),(0,C.jsx)("td",{children:function(n){switch(n){case j.cf.APPROVED:return(0,C.jsx)(w.A,{className:"success",children:"Approved"});case j.cf.PENDING:return(0,C.jsx)(w.A,{className:"warning",children:"Pending"});case j.cf.REJECTED:return(0,C.jsx)(w.A,{className:"danger",children:"Rejected"})}}(h||0)}),(0,C.jsx)("td",{children:(0,C.jsxs)("div",{className:"table-action",children:[(0,C.jsx)(u.G7,{onClick:(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e((0,j.e)(s));case 2:t("/post-detail?id=".concat(s));case 3:case"end":return n.stop()}}),n)})))}),(0,C.jsx)(u.I8,{onClick:(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e((0,j.e)(s));case 2:t("/manage/update-post?id=".concat(s));case 3:case"end":return n.stop()}}),n)})))}),(0,C.jsx)(u.HG,{onClick:function(){!function(n){p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&n&&(e((0,j.GH)(n)),p().fire("Deleted!","Your file has been deleted.","success"))}))}(s)}})]})})]},s)}))})]}),(0,C.jsx)("div",{children:(0,C.jsx)(l.t,{handlePageClick:S,handleNextPage:D,handlePrevPage:F})})]})}}}]);
//# sourceMappingURL=85.7edaf490.chunk.js.map